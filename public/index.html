<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Pandoc Web Converter</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <main>
      <h1>Pandoc Web Converter</h1>
      <form id="form" action="/convert" method="post" enctype="multipart/form-data">
        <div id="drop" class="drop">
          <h4>Drag & drop .md files here</h4>
          <p>or</p>
          <label for="file" class="file-label">
            Choose files
          </label>
          <input id="file" name="files" type="file" accept=".md,text/markdown" multiple />
          <div id="file-list" class="file-list"></div>
        </div>
        
        <button id="submit" type="submit" disabled>Convert to PDF</button>
        
        <h2 class="custom-options-heading">Custom Options</h2>

        <label class="opt">
          Orientation
          <select id="orientation" name="orientation">
            <option value="portrait" selected>Portrait</option>
            <option value="landscape">Landscape</option>
          </select>
        </label>
        <label class="opt">
          Paper Size
          <select id="paperSize" name="paperSize">
            <option value="letter" selected>Letter</option>
            <option value="legal">Legal</option>
            <option value="tabloid">Tabloid</option>
            <option value="a3">A3</option>
            <option value="a4">A4</option>
            <option value="a5">A5</option>
          </select>
        </label>
        
        <label class="opt">
          <input type="checkbox" id="watermark" name="watermark" />
          Apply watermark (uses watermark.tex)
        </label>
        <label class="opt">
          Watermark text
          <input type="text" id="watermarkText" name="watermarkText" placeholder="DRAFT" disabled />
        </label>
        
        <details class="filter-section">
          <summary class="filter-summary">Custom Lua Filter</summary>
          <div class="filter-content">
            <label class="opt">
              <input type="checkbox" id="useCustomFilter" />
              Use custom filter
            </label>
            <label class="opt">
              Filter name
              <input type="text" id="filterName" placeholder="custom-filter" />
            </label>
            <div class="opt filter-mode">
              <label>
                <input type="radio" name="filterMode" value="override" />
                Override default filter
              </label>
              <label>
                <input type="radio" name="filterMode" value="additional" checked />
                In addition to default filter
              </label>
            </div>
            <label class="opt">
              Filter code
              <textarea id="filterCode" class="filter-code" rows="10" placeholder="-- Your Lua filter code here"></textarea>
            </label>
            <button type="button" id="saveFilter" class="button-secondary">Save Filter</button>
            <div id="filterStatus" class="filter-status"></div>
            <div id="savedFilterDisplay" class="saved-filter-display" style="display: none;">
              <h4 id="savedFilterName"></h4>
              <pre id="savedFilterCode" class="saved-filter-code"></pre>
            </div>
          </div>
        </details>
      </form>

      <div id="status" class="status"></div>
      <div id="results" class="results"></div>
    </main>
    <aside id="history" class="history"></aside>
    <script src="/app.js"></script>
  </body>
  </html>


